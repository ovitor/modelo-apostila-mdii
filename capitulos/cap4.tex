% ---
% Operadores em PHP 
% ---
\chapter{Operadores em PHP}
% ---

Ao final deste capítulo, o aluno terá as seguintes competências:
\begin{enumerate}
    \item Trabalhar com operadores aritméticos; 
    \item Trabalhar com operadores relacionais; e
    \item Trabalhar com operadores de \tipostring.
\end{enumerate}

\section{Operadores}
\label{operadores}

Os operadores têm um papel importante dentro de qualquer linguagem de programação.
É através deles que podemos realizar diversas operações em um programa. Existem
operadores para atribuição, operadores aritméticos, operadores relacionais ou lógicos,
e por fim, operadores de \tipostring.

No \php, os operadores são utilizados constatemente e nesse capítulo iremos
aprender a trabalhar com a maioria deles.

\section{Operador de atribuição}
\label{operador-atribuicao}

O operador básico de atribuição é o caractere ``='' (igual). Com ele podemos atribuir 
valores as variáveis como foi visto em exemplos anteriores. Isto quer dizer que o 
operando da esquerda recebe o valor da expressão da direita, ou seja, a variável da 
esquerda contém o valor da direita do símbolo igual ``=''. Observe o exemplo abaixo:

\lstinputlisting[language=php,style=codigos]{codigos/operadores-atribuicao.php}

\section{Operadores de \textit{strings}}
\label{operadores-de-strings}
Os operadores de \tipostrings são utilizados para manipular o conteúdo de uma \tipostring.
O \php~ disponibiliza, basicamente, dois operadores de \tipostrings. O primeiro é o operador
de concatenação (\texttt{.}) - ele retorna a concatenação das variáveis envolvidas.
O segundo operador, é o operador de atribuição e concatenação (\texttt{.=}). Ele acrescenta
à variável do lado direito na variável do lado esquerdo do operador. Verifique os exemplos
abaixo.

\lstinputlisting[language=php,style=codigos]{codigos/operadores-string-1.php}

No exemplo acima, pode-se observar, na atribuição da variável \texttt{\$informacao} que, 
temos uma inicialização e atribuição de concatenação em uma mesma linha. Isso é possível
no \php, por mais que seja mais otimizado (mais rápido de ser processado), o código se
torna menos legível (mais difícil de ser entendido).

{\Large Pequeno desafio!}

Utilize o conhecimento adquirido nas aulas passadas para exibir, no navegador, as informações
separadas em células de uma tabela. A imagem a seguir deve ser o resultado apresentado. 

\figurasimples{cap4-pequeno-desafio-1}{Resultado do primeiro pequeno desafio.}

\section{Operadores Aritméticos}
\label{operadores-aritmeticos}

Os operadores aritméticos são utilizados para realizar cálculos matemáticos básicos, tais
como: soma, subtração, divisão e multiplicação. Os símbulos mais utilizados são descritos
na tabela abaixo.

\input{tabelas/tabela-cap4-operadores-aritmeticos.tex}

Na tabela acima fizemos operações básicas sem utilizar parênteses. O uso de parênteses
segue o mesmo princípio da matemática. Ele serve para dar prioridade a determinado
cálculo.

\section{Operadores Combinados}
\label{operadores-combinados}

No \php~ é possível combinar os dois operadores visto acima (de atribuição e artiméticos).
A partir deles é possível programar de forma mais ágil. Observe o código a seguir.

\begin{multicols}{2}

  \lstinputlisting[language=php,style=codigos]{codigos/operadores-atribuicao-combinada-1.php}
  \columnbreak

  \lstinputlisting[language=php,style=codigos]{codigos/operadores-atribuicao-combinada-2.php}

\end{multicols}

No código acima do lado esquerdo, declaramos a variável \texttt{\$peso} com um valor inicial,
em seguida utilizamos o operador combinado \texttt{+=} para incrementar o valor da
varíavel \texttt{\$peso}. Podemos obter o mesmo resultado com o código acima do lado direito.
Escrevemos menos no código do lado esquerdo, por isso, os programadores o utilizam bastante.

Já no código abaixo, utilizamos o operador combinado \texttt{.=}. Ele concatena as \tipostrings.

\lstinputlisting[language=php,style=codigos]{codigos/operadores-atribuicao-combinada-3.php}

Nesse exemplo utilizamos o operador de atribuição básico.

\lstinputlisting[language=php,style=codigos]{codigos/operadores-atribuicao-combinada-4.php}

A tabela abaixo lista os principais operadores de atribuição. 

\input{tabelas/tabela-cap4-operadores-combinados.tex}

\section{Operadores de decremento e incremento}
\label{operadores-de-decremento-e-incremento}

Os operadores exemplicificados nessa seção são usados para \textbf{somar} ou \textbf{subtrair}
o valor 1 (um) a variável. Esse cálculo pode ser feito antes ou depois da execução de 
determinada variável. A tabela abaixo mostra tais operadores.

\input{tabelas/tabela-cap4-operadores-incremento-e-decremento.tex}

O exemplo abaixo mostra a comparação na forma da escrita. Os resultados alcançados serão
os mesmos.

\lstinputlisting[language=php,style=codigos]{codigos/operadores-incremento-1.php}

\section{Operadores relacionais}
\label{operadores-relacionais}

Os operadores relacionais são utilizados para realizar comparações entre valores (variáveis)
ou expressões. Essa comparação sempre resulta em um valor do tipo \booleano, ou seja,
verdadeiro (\true) ou falso (\false). Na tabela a seguir, listamos os operadores
que iremos trabalhar.

\input{tabelas/tabela-cap4-operadores-relacionais.tex}

O exemplo de código abaixo descreve o uso de alguns operadores relacionais.

\lstinputlisting[language=php,style=codigos]{codigos/operadores-relacionais-1.php}

\subsection{Operador condicional ternário}
\label{operador-condicional-ternario}

É importante explicar o operador condicional ternário (símbolo ``?'') para termos um exemplo 
prático dos operadores relacionais. A sintaxe do operador condicional é exemplificada abaixo:

\lstinputlisting[language=php,style=codigos]{codigos/operadores-condicional-ternario.php}

A expressão 1 é sempre um teste a ser realizado com os operadores relacionais. A expressão
2 e expressão 3 são valores que serão atribuídos a variável \texttt{\$var}. Vamos ver um exemplo:

\lstinputlisting[language=php,style=codigos]{codigos/operadores-condicional-ternario-exemplo.php}

Qual será o resultado se mudarmos a expressão 1 (teste) para \texttt{\$num1 === \$num2}?

{\Large Desafio rápido!}

Faça um pequeno programa que utilize todos os operadores relacionais descritos acima.
É necessário criar exemplos que os resultados sejam \true~ e \false~ para cada
um dos casos. Utilize também o operador condicional ternário. A saída no navegador
deve ser parecida com a imagem abaixo.

\figurasimples{cap4-desafio-rapido-1}{Resultado do primeiro desafio rápido.}

\section{Operadores Lógicos}
\label{operadores-logicos}

Operadores lógicos, também conhecidos como operadores \booleanos, são utilizados para
avaliar expressões lógicas, ou seja, expressões que resultem em valores \booleanos~
(verdadeiro ou falso). A tabela a seguir lista cada um desses operadores e sua respectiva
função.

\input{tabelas/tabela-cap4-operadores-logicos-1.tex}

Com esses operadores, podemos construir a tabela verdade de determinada variável \booleana.
As próximas seções explicam os operadores lógicos \texttt{NOT}, \texttt{AND} e \texttt{OR}.

\subsection{Operador \texttt{NOT}}
\label{operador-not}

Para isso, vamos utilizar os dois valores que a variável pode assumir (Verdadeiro ou Falso)
e o operador lógico \texttt{NOT} listado na tabela \ref{tab:cap4-operadores-logicos}.
Veja a tabela abaixo, a variável \texttt{\$esta\_chovendo} pode assumir dois valores,
verdadeiro ou falso.

\input{tabelas/tabela-cap4-operadores-logicos-2.tex}

Ou seja, considerando que a variável \texttt{\$esta\_chovendo} pode ser traduzida para
a frase: ``Hoje está chovendo!'', sua negação seria: ``Hoje \textbf{não} está chovendo''.

\subsection{Operador \texttt{AND}}
\label{operador-and}

O operador \texttt{AND} funciona com base em uma conjunção. Algo só será verdadeiro
se os termos envolvidos na expressão sejam verdadeiros. Nosso próximo exemplo leva em 
consideração a situação de um casamento. Então criamos duas variáveis: \texttt{\$noiva\_presente} 
e \texttt{\$noivo\_presente}. Se apenas o noivo estiver presente, ou seja,
\texttt{\$noivo\_presente = True} e \texttt{\$noiva\_presente = False} o casamento não acontece. 
Observe na tabela verdade abaixo.

\input{tabelas/tabela-cap4-operadores-logicos-3.tex}

\subsection{Operador \texttt{OR}}
\label{operador-or}

O operador \texttt{OR} funciona com base em uma disjunção. Algo será verdadeiro
assim que algum termo envolvido na expressão seja verdadeiro. Por exemplo, Joaquim,
aluno do programa e-Jovem, vai fazer uma prova de concurso. Para realizá-la, é 
obrigatório apresentar documento de identidade (variável \texttt{\$tem\_identidade})
\textbf{ou} o título de eleitor (variável \texttt{\$tem\_tituloeleitor}).
Joaquim só vai conseguir fazer a prova caso apresente um documento \textbf{ou} outro.
Dessa maneira, observe a tabela verdade do operador \texttt{OR}.

\input{tabelas/tabela-cap4-operadores-logicos-4.tex}

Verifique no código abaixo o uso dos operadores lógicos no \php.

\lstinputlisting[language=php,style=codigos]{codigos/operadores-logicos-1.php}

\section{Exercícios}
\label{cap4-exercicios}


\section{Desafio!}
\label{cap4-desafio}
O desafio deste capítulo é criar um arquivo \phpextensao~ declarando variáveis de todos os tipos
estudados (inteiro, ponto flutuante e \tipostring). Imprimí-los no navegador e por fim, converter
os valores das variáveis do tipo inteiro e ponto flutuante para \tipostring.
